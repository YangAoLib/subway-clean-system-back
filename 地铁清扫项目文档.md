# 地铁清扫项目

## 功能说明

### 零件相关

#### 上传零件

上传零件的基本信息
上传零件的相关文件

#### 更新零件信息

根据id进行信息更新

## 需求分析

### 地铁清理记录

#### 查找

- [x] 是否完成

* 参数

  1. `subwayName`: 地铁名称

  1. `status`: 清理状态

  1. `beginCreateTime`: 开始时间起始

  1. `endCreateTime`: 开始时间末尾

  1. `currentPage`: 当前页面数

  1. `pageSize`: 每页记录数


* 返回数据结构

  不需要文件
  ```json5
  [{
      subwayCleanHistory: {},
      sbuway: {},
      parts: [{}]
  }]
  ```


#### 修改零件的清理状态

- [x] 是否完成

* 参数

  1. 清理记录id
  2. 零件id
  3. 清理状态

* 返回数据结构

  `boolean`

#### 修改地铁清理历史 的状态

- [x] 是否完成

* 参数

  1. 清理记录id
  2. 进度 (如果进度为 100, 则进行 状态 与 结束时间 的修改)

* 返回数据结构

  `boolean`

#### 查找简易的历史记录

- [x] 是否完成

* 参数
  1. 清理记录id
* 返回数据结构
  * 基础信息
  * 零件根据车厢分组
  * 零件数量

### 车型管理

#### 添加

- [ ] 是否完成

* 参数
  * 车型信息(名称)
  * 车厢数据
    * 序号
    * 名称
    * 对应文件信息数据
    * 零件对应数据
      * 基础信息

#### 删除

- [ ] 是否完成

* 参数

  1. 车型id

  要进行关联删除, 即相关的车厢文件与其零件信息与文件也要进行删除

* 返回数据结构

  `boolean`

#### 查找

- [ ] 是否完成

* 参数
  1. 名称
  2. 分页

* 返回数据结构

    ```json5
    {
      id: '',
      name: '地铁信息1',
      createTime: '',
      carriages: [
        {
          id: '1',
          name: '车型1 车厢1',
          parts: {
            leftParts: [
              {
                id: '',
                name: '',
                description: ' '
              },
              {
                id: '',
                name: '',
                description: ' '
              },
              {
                id: '',
                name: '',
                description: ' '
              },
            ],
            rightParts: [],
            bottomParts: []
          }
        },
        {
          id: '2',
          name: '车型1 车厢2',
          parts: {
            leftParts: [],
            rightParts: [],
            bottomParts: []
          }
        }
      ]
    }
    ```

### 车辆管理

#### 添加

- [x] 是否完成

* 参数

  1. 名称
  2. 车型id

* 返回数据结构

  `boolean`

#### 删除

- [x] 是否完成

* 参数

  * 车辆id

* 返回数据结构

  `boolean`

#### 查找

- [x] 是否完成

* 参数
  1. 名称
  2. 创建时间区间
  3. 类型(名称)
  4. 分页
* 返回数据结构
  * 车辆列表
    * id
    * 名称
    * 类型
    * 创建时间

### 文件管理

#### 上传

- [x] 是否完成

* 上传文件
* 返回数据结构
  * 文件相对路径
  * 文件原名
  * 文件生成名

#### 下载

- [ ] 是否完成

